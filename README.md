# Customer Support Chatbot with Retrieval-Augmented Generation (RAG)

This project implements a **Customer Support Chatbot** using **Retrieval-Augmented Generation (RAG)** to provide intelligent and context-aware responses. The chatbot leverages a combination of **Sentence Transformers** for text embeddings, **Pinecone** for fast similarity search, and **Google's FLAN-T5** model for response generation. Additionally, it includes user authentication, chat history management, and a feedback system.

## Features

- **User Authentication:** Users can create accounts, log in, and access their chat history.
- **Context-Aware Responses:** The chatbot uses a RAG-based architecture to retrieve relevant documents and generate responses using a pre-trained model.
- **Feedback System:** Users can rate the chatbot's responses in terms of relevance and accuracy and leave additional comments.
- **Chat History:** All interactions with the chatbot are saved in a history, allowing users to access and review past conversations.
- **Real-Time Spelling Correction:** User input is corrected using **TextBlob** before being processed by the chatbot.
- **Pinecone Integration:** Fast and efficient similarity search is powered by **Pinecone**, enabling the chatbot to retrieve contextually relevant information.

## Technologies Used

- **Streamlit:** For building the web application UI.
- **Sentence Transformers:** For converting user queries and documents into embeddings.
- **Pinecone:** For vector database and similarity search.
- **Transformers:** For natural language processing and text generation with the FLAN-T5 model.
- **TextBlob:** For correcting spelling in user queries.
- **JSON:** For saving and loading chat logs and feedback data.

## Setup Instructions

### Prerequisites

- Python 3.x
- Streamlit
- Sentence Transformers
- Pinecone
- Hugging Face Transformers
- TextBlob

### Install Dependencies

1. Clone this repository or download the files.
2. Navigate to the project folder.
3. Create a virtual environment (optional but recommended):

   ```bash
   python -m venv venv
   source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
Install the required libraries:

bash
Copy
Edit
pip install -r requirements.txt
If you don't have requirements.txt, you can install the necessary libraries manually:

bash
Copy
Edit
pip install streamlit sentence-transformers pinecone-client transformers textblob
API Key Setup
To use Pinecone, you'll need to sign up at Pinecone and obtain an API key. Once you have the key, store it in a safe place.

Running the Application
To start the chatbot application, run the following command:

bash
Copy
Edit
streamlit run app.py
This will start a local development server, and you can access the chatbot UI in your browser.

How the Chatbot Works
1. Login and Signup:
Users can sign up by creating a new username and password. They can log in afterward with their credentials.

User data (username and password) is stored in a local JSON file.

If the login credentials are valid, users are granted access to the chatbot interface.

2. Chat History:
All conversations are stored in JSON files under the chat_logs directory, organized by the username.

Users can view and continue any of their past chats.

3. Feedback:
After each response, users can rate the chatbot's answer based on relevance and accuracy, and they can provide additional comments.

The feedback is stored in a separate folder called chat_feedbacks.

Feedback includes the timestamp, user query, assistant response, and ratings for relevance and accuracy.

4. RAG Architecture:
The chatbot retrieves relevant information from the Pinecone index and generates responses using the FLAN-T5 model.

The chatbot uses embeddings generated by Sentence Transformers to search for similar documents in the Pinecone vector database.

FLAN-T5 is then used to generate a response based on the retrieved documents, allowing for more accurate and contextually relevant answers.

5. Spelling Correction:
User input is corrected using TextBlob before being processed by the chatbot, ensuring that spelling errors do not hinder the query understanding.

Folder Structure
The project contains the following structure:

bash
Copy
Edit
/chat_logs/                  # Stores chat history (JSON files) for each user
/chat_feedbacks/             # Stores user feedback (JSON files) for each conversation
/users/                      # Stores user credentials (JSON files)
/app.py                      # Main application file (Streamlit UI)
/requirements.txt            # List of dependencies
chat_logs: Contains all user chat histories saved as JSON files. Each file is named after the chat_id and stores the chat messages exchanged.

chat_feedbacks: Contains the feedback submitted by users, saved as JSON files with user ratings and comments.

users: Contains the username and password data for each registered user.

Usage
Chatting with the Bot:
Login/Signup:

Users can log in to an existing account or sign up for a new one.

Start a New Chat:

After logging in, users can start a new chat session. The chat history is saved and can be accessed later.

Chat History:

Previous chats can be accessed from the sidebar, and users can review or continue past conversations.

Providing Feedback:

After each response, users can provide feedback on the chatbot's performance, such as relevance and accuracy of the response.

Example Flow:
User signs up or logs in.

User starts a new chat session or continues a past conversation.

User asks a question, and the chatbot responds based on contextually relevant information.

User provides feedback on the response, which is stored for future analysis.

Troubleshooting
Pinecone API Key Error: If you encounter issues related to Pinecone, make sure your API key is valid and you've set up the Pinecone client correctly in your code.

Streamlit Issues: If Streamlit isn't working as expected, ensure you've installed all dependencies and have activated the virtual environment.

Feedback Not Saving: Ensure that the chat_feedbacks folder is correctly created, and check for any permission issues related to file writing.

Login Issues: Double-check the username and password. If problems persist, clear the users directory and create a new account.

Contributing
We welcome contributions to improve the project. If you'd like to contribute, feel free to submit pull requests or open issues for bugs or feature requests.

License
This project is licensed under the MIT License - see the LICENSE file for details.

Acknowledgments
Pinecone for fast similarity search and indexing.

Sentence Transformers for embedding-based retrieval.

Google's FLAN-T5 for text generation and response generation.

Streamlit for building the user interface.

TextBlob for spelling correction.

Let me know if you'd like to modify or add anything!








